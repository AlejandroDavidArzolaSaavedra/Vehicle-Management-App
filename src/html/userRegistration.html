<!doctype html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <title>userRegistration</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <!--FONTAWESOME-->
        <script src="https://kit.fontawesome.com/ff006d44e4.js" crossorigin="anonymous"></script>

        <link rel="stylesheet" href="../css/styles.css">
        <link rel="stylesheet" href="../css/header.css">
        <link rel="stylesheet" href="../css/form.css">
        <link rel="stylesheet" href="../css/footer.css">
        <script src="../js/loadTemplate.js"></script>
        <script>
            document.addEventListener('DOMContentLoaded', init);

            function init() {
                loadTemplate("../html/templates/loggedOutHeader.html", "header")
                fetch("../html/templates/formUser.html")
                    .then((res) => {
                    return res.text();
                })
                    .then((text) => {
                    document.getElementById("indexBody").innerHTML = text;
                    document.getElementById("formUserRegistration").addEventListener("submit",(e) => {
                        console.log("me han pulsado")
                        e.preventDefault();
                        const passInput = document.getElementById("pass")
                        const passConfitmInput = document.getElementById("passConfirm")
                        if(passInput.value !== passConfitmInput.value){
                            passInput // invalid
                                .setCustomValidity('Must match !')
                        } else {
                            passInput // invalid
                                .setCustomValidity('')
                            console.log("se ha enviado correctamente");
                        }
                        passInput.reportValidity()
                    })
                })
                loadTemplate("../html/templates/footer.html", "footer")
            }
        </script>


    </head>
    <body>
        <header id="header"></header>
        <!--    header-->
        <div id="indexBody" class="bodyContainer">
        </div>

        <footer id="footer">
            <!-- Aqui se insertara el componente del footer -->
        </footer>
    </body>
</html>